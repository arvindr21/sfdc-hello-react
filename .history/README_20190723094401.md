## SFDC Hello React app

### Prerequisites
* Saleforce Account - https://login.salesforce.com/?locale=in
* Saleforce CLI - https://developer.salesforce.com/docs/atlas.en-us.sfdx_setup.meta/sfdx_setup/sfdx_setup_install_cli.htm
* VSCode - https://code.visualstudio.com/download
* VSCode extensions - https://trailhead.salesforce.com/en/content/learn/projects/quick-start-lightning-web-components/set-up-visual-studio-code

### Setup
* Clone this repo
* `cd force-app/react-components/hello-react`
* `npm install`

### Deploy
* `sfdx force:auth:web:login -d -a todocomp`
* `sfdx force:org:create -s -f config/project-scratch-def.json -a myapp`
* `sfdx force:source:push`

### Development
To create a new react component, follow the below steps

#### React app

* `cd force-app/react-components`
* `create-react-app mycomp`
* `cd mycomp`
* `npm run eject`
* Navigate to `force-app/react-components/hello-react/config/paths.js` and update `appBuild` from `resolveApp('build')` to `resolveApp('../../main/default/staticresources/mycomp')`
* The above step will copy the build assets of the react component into `force-app/main/default/staticresources` folder.

#### Lightning Web Component
* In VSCode - `ctrl+shft+p` or `cmd+shft+p` -> `SFDC: Create Ligtning Component` -> `mycomp` -> default location (`force-app/main/default/aura/`)
* Update `force-app/main/default/aura/mycomp/mycomp.cmp` as shown below
  ```
  <aura:component implements="flexipage:availableForAllPageTypes" access="global">
    <lightning:card title="LCC Sample React">
      <lightning:container
        aura:id="reactApp"
        src="{!$Resource.mycomp + '/index.html'}"
        onmessage="{!c.handleMessage}"
        onerror="{!c.handleError}"
      />
    </lightning:card>
  </aura:component>
  ```
  In the above snippet update the `src` to point to the `staticresources` and `mycomp` folder
  * Optional - Update `force-app/main/default/aura/mycomp/mycomp.css` as shown below
  ```
    .THIS .slds-card__body {
        padding: 0 12px;
    }

    .THIS iframe {
        height: 400px;
    }
  ```
